<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Long Press Event Logger</title>
<style>
  body {
    font-family: sans-serif;
    padding: 16px;
    font-size: 20px; /* Larger base font for mobile */
  }

  #btn {
    padding: 24px 40px;
    font-size: 22px; /* Big button text */
    width: 100%;
    box-sizing: border-box;
    user-select: none;
    touch-action: none;
  }

  #log {
    margin-top: 20px;
    padding: 16px;
    border: 2px solid #ccc;
    height: 300px;
    overflow-y: auto;
    background: #f0f0f0;
    font-family: monospace;
    font-size: 22px; /* MUCH larger log text */
    line-height: 1.4;
    white-space: pre-wrap;
  }
</style>
</head>
<body>
  <button id="btn">Press and hold me</button>
  <div id="log"></div>

  <script>
    const btn = document.getElementById('btn');
    const logDiv = document.getElementById('log');

    let t0 = null;          // time of initial pointerdown
    let activePointerId = null;

    function log(message, ev) {
      if (t0 === null) {
        // If we somehow get an event before pointerdown, just use its own timestamp as baseline
        t0 = ev.timeStamp;
      }
      const dt = ev.timeStamp - t0; // ms relative to initial pointerdown
      const line = `${dt.toFixed(1)} ms: ${message}`;
      logDiv.textContent += line + '\n';
      logDiv.scrollTop = logDiv.scrollHeight;
    }

    btn.addEventListener('pointerdown', (ev) => {
      // Start a new sequence
      t0 = ev.timeStamp;
      activePointerId = ev.pointerId;
      log('pointerdown', ev);
      // Capture pointer so we keep getting events even if it moves off the button
      btn.setPointerCapture(ev.pointerId);
    });

    btn.addEventListener('pointermove', (ev) => {
      if (ev.pointerId !== activePointerId || t0 === null) return;
      log('pointermove', ev);
    });

    btn.addEventListener('pointerup', (ev) => {
      if (ev.pointerId !== activePointerId || t0 === null) return;
      log('pointerup', ev);
      btn.releasePointerCapture(ev.pointerId);
      activePointerId = null;
      // Optionally reset t0 here if you want each press to be independent
      // t0 = null;
    });

    btn.addEventListener('pointercancel', (ev) => {
      if (ev.pointerId !== activePointerId || t0 === null) return;
      log('pointercancel', ev);
      btn.releasePointerCapture(ev.pointerId);
      activePointerId = null;
      // t0 = null;
    });
  </script>
</body>
</html>