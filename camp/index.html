<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Loadingâ€¦</title>
</head>
<body>

<script>
// --- PLATFORM DETECTION ---
function isIOS() {
    return /iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());
}
function isAndroid() {
    return /android/.test(navigator.userAgent.toLowerCase());
}
function isWindows() {
    return navigator.userAgent.toLowerCase().includes("windows");
}

// --- STANDALONE DETECTION ---
function isStandalone() {
    if (window.matchMedia('(display-mode: standalone)').matches) return true;
    if ('standalone' in navigator && navigator.standalone === true) return true;
    return false;
}

window.addEventListener("DOMContentLoaded", () => {
    const params = new URLSearchParams();

    if (isIOS()) params.set("platform", "ios");
    else if (isAndroid()) params.set("platform", "android");
    else if (isWindows()) params.set("platform", "windows");
    else params.set("platform", "other");

    params.set("standalone", isStandalone() ? "true" : "false");

    window.location.href = "app.html?" + params.toString();
});
</script>

</body>
</html>